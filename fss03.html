<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friends - Season 3</title>
    <style>
        :root {
            --primary-red: #e50914;
            --background-light: #f4f4f4;
            --card-light: #ffffff;
            --text-dark: #1c1c1c;
            --text-secondary: #555;
            --border-light: #ddd;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: var(--background-light);
            color: var(--text-dark);
        }
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6) 10%, rgba(0,0,0,0));
            padding: 20px 50px;
            color: white;
            width: 100%;
            position: fixed;
            top: 0;
            z-index: 1001;
            transition: background-color 0.4s;
        }
        .navbar.scrolled {
            background-color: #333;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .navbar-logo img {
            height: 35px;
            width: auto;
            vertical-align: middle;
        }
        .navbar-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .navbar .welcome { font-weight: bold; }
        .navbar .hamburger { position: relative; }
        .navbar .hamburger img { width: 35px; height: 35px; cursor: pointer; border-radius: 4px; }
        .dropdown-content { display: none; position: absolute; right: 0; background-color: var(--card-light); min-width: 180px; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); z-index: 1; border: 1px solid var(--border-light); }
        .dropdown-content a { color: var(--text-dark); padding: 12px 16px; text-decoration: none; display: block; font-size: 0.9em; }
        .dropdown-content a:hover { background-color: #e9e9e9; }
        .hamburger:hover .dropdown-content { display: block; }
        .hero-container {
            min-height: 95vh;
            width: 100%;
            position: relative;
            background-image: linear-gradient(to right, rgba(244, 244, 244, 1) 25%, rgba(244, 244, 244, 0.7) 50%, rgba(244, 244, 244, 0) 100%), 
                              linear-gradient(to top, var(--background-light) 5%, rgba(244, 244, 244, 0) 25%), 
                              url('wp6449504.webp');
            background-size: cover;
            background-position: center top;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 100px 50px 50px 50px;
        }
        .hero-text-content { max-width: 55%; z-index: 10; }
        .hero-text-content .logo { width: 350px; margin-bottom: 20px; }
        .hero-text-content .meta-info { color: var(--text-secondary); margin-bottom: 20px; font-size: 1.1em; font-weight: bold; }
        .hero-text-content p { font-size: 1.2em; line-height: 1.5; margin-bottom: 25px; max-width: 600px; }
        .hero-buttons button { padding: 12px 25px; font-size: 1.1em; border-radius: 5px; border: none; margin-right: 15px; cursor: pointer; font-weight: bold; display: inline-flex; align-items: center; justify-content: center; transition: all 0.3s ease; }
        .btn-play { background-color: var(--primary-red); color: var(--card-light); }
        .btn-play:hover { background-color: #c40812; transform: scale(1.05); }
        .btn-info { background-color: rgba(109,109,110,0.7); color: var(--card-light); }
        .btn-info:hover { background-color: rgba(109,109,110,0.9); transform: scale(1.05); }
        .main-content { padding: 20px 50px; position: relative; z-index: 12; background-color: var(--background-light); margin-top: -80px; }
        .season-selector-row { background-color: var(--card-light); padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 25px; }
        .season-selector-row h3 { font-size: 1.6em; font-weight: bold; margin-bottom: 15px; }
        .filter-controls { display: flex; gap: 20px; align-items: center; flex-wrap: wrap; }
        .search-bar { padding: 12px; font-size: 1.1em; border-radius: 5px; border: 1px solid var(--border-light); background-color: #f9f9f9; color: var(--text-dark); flex-grow: 1; }
        .episodes-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; width: 100%; margin-top: 20px; }
        .episode { background-color: var(--card-light); border-radius: 8px; overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: pointer; position: relative; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .episode:hover { transform: scale(1.05); z-index: 20; box-shadow: 0 10px 30px rgba(0,0,0,0.15); }
        .episode .image-container { width: 100%; padding-top: 56.25%; position: relative; background-color: #e0e0e0; }
        .episode img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
        .play-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 4em; color: rgba(255,255,255,0.9); text-shadow: 0 0 15px rgba(0,0,0,0.5); opacity: 0; transition: opacity 0.3s; pointer-events: none; }
        .episode:hover .play-icon { opacity: 1; }
        .episode-info { padding: 15px; }
        .episode .title { font-weight: bold; font-size: 1.1em; color: var(--text-dark); margin-bottom: 8px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .episode .synopsis { font-size: 0.9em; color: var(--text-secondary); line-height: 1.4; height: 3.8em; overflow: hidden; }
        .episode .rating { font-weight: bold; color: #28a745; margin-top: 10px; font-size: 0.9em; }
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.85); align-items: center; justify-content: center; }
        .modal-content { background-color: var(--card-light); color: var(--text-dark); margin: auto; padding: 0; width: 90%; max-width: 900px; border-radius: 8px; box-shadow: 0 10px 40px rgba(0,0,0,0.7); position: relative; overflow: hidden; }
        .modal-video-container { position: relative; background-color: #000; cursor: pointer; }
        #modal-video { width: 100%; height: auto; display: block; }
        .close { color: var(--text-dark); position: absolute; top: 15px; right: 20px; font-size: 35px; font-weight: bold; background-color: rgba(255,255,255,0.7); border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; line-height: 1; z-index: 100; cursor: pointer; transition: all 0.2s; }
        .close:hover, .close:focus { background-color: #fff; transform: scale(1.1); }
        .modal-info { padding: 25px 30px; }
        #modal-title { font-size: 1.8em; margin-bottom: 15px; color: var(--primary-red); }
        #modal-synopsis { color: var(--text-secondary); margin-bottom: 15px; line-height: 1.6; }
        #modal-rating { font-weight: bold; }
        .video-overlay-controls { position: absolute; top: 0; left: 0; right: 0; bottom: 60px; z-index: 21; }
        .click-zone { position: absolute; top: 0; height: 100%; z-index: 22; }
        .click-zone.left { left: 0; width: 30%; }
        .click-zone.center { left: 30%; width: 40%; }
        .click-zone.right { right: 0; width: 30%; }
        .edge-nav { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(20,20,20,0.8); color: #fff; padding: 10px 15px; border-radius: 5px; font-weight: bold; font-size: 1.1em; opacity: 0; transition: opacity 0.3s; z-index: 23; pointer-events: none; }
        .video-overlay-controls:hover .edge-nav { opacity: 1; pointer-events: auto; }
        .edge-nav.prev { left: 20px; }
        .edge-nav.next { right: 20px; }
        .edge-nav.disabled { opacity: 0 !important; pointer-events: none !important; }
        #next-episode-prompt { display: none; position: absolute; bottom: 80px; right: 20px; z-index: 100; background-color: rgba(255, 255, 255, 0.95); color: var(--text-dark); border: 2px solid var(--primary-red); padding: 12px 25px; border-radius: 5px; font-size: 1em; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        #next-episode-prompt:hover { background-color: var(--primary-red); color: white; border-color: var(--primary-red); transform: scale(1.05); }
        footer { text-align: center; color: var(--text-secondary); margin-top: 50px; padding-bottom: 20px; }
        @media (max-width: 768px) { .navbar { padding: 15px 20px; } .hero-container { padding: 80px 20px 40px 20px; min-height: 80vh; } .hero-text-content { max-width: 95%; } .hero-text-content .logo {width: 300px;} .main-content { padding: 20px; } .episodes-grid { grid-template-columns: 1fr; } .modal-content { width: 95%; } #next-episode-prompt { bottom: 70px; right: 10px; padding: 10px 15px; font-size: 0.9em; } .edge-nav { font-size: 0.9em; padding: 8px 10px; } }
    </style>
</head>

<body>
    <audio id="hover-sound" src="ui-pop-sound-316482.mp3" preload="auto"></audio>

    <div class="navbar" id="navbar">
        <a href="netflix.html" class="navbar-logo"><img src="netflix-mobile-application-logo-free-png.webp" alt="Site Logo"></a>
        <div class="navbar-right">
            <div class="welcome">Welcome, Vishal R</div>
            <div class="hamburger">
                <img src="download.png" alt="Menu">
                <div class="dropdown-content">
                    <a href="profile.html">Profile</a>
                    <a href="logout.html">Logout</a>
                    <a href="home.html">Home</a>
                    <a href="GALLERY.HTML">Stream</a>
                    <a href="about.html">About</a>
                </div>
            </div>
        </div>
    </div>

    <div class="hero-container">
        <div class="hero-text-content">
            <img src="friends-logo-png-transparent.png" alt="Friends Logo" class="logo">
            <h2 id="series-title" style="display:none;">Friends</h2>
            <div class="meta-info">1994 | Maturity Rating: U/A 13+ | Season 3 | Sitcom</div>
            <p>Follow the lives of six reckless adults living in Manhattan, as they indulge in adventures which make their lives both troublesome and happening.</p>
            <div class="hero-buttons">
                <button class="btn-play">▶ Play First Episode</button>
                <button class="btn-info">ⓘ More Info</button>
            </div>
        </div>
    </div>
    
    <div class="main-content">
        <div class="season-selector-row">
            <h3>Season 3 Episodes</h3>
            <div class="filter-controls">
                <input type="text" id="search-bar" class="search-bar" placeholder="Search episodes in this season...">
            </div>
        </div>
        <div id="episodes-container" class="episodes-grid">
            <!-- Episodes will be dynamically added here -->
        </div>
    </div>

    <footer>
        <p>© 2024 VR1 Site. All rights reserved.</p>
    </footer>

    <div id="episode-modal" class="modal">
        <div class="modal-content" id="modal-content">
            <span class="close">×</span>
            <div class="modal-video-container" id="modal-video-container">
                <video id="modal-video" controls>
                    <source id="modal-video-source" src="" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="video-overlay-controls" id="video-overlay-controls">
                    <div class="click-zone left"></div>
                    <div class="click-zone center"></div>
                    <div class="click-zone right"></div>
                    <div class="edge-nav prev" id="prev-episode-btn">« Previous</div>
                    <div class="edge-nav next" id="next-episode-btn">Next »</div>
                </div>
                <button id="next-episode-prompt">Play Next Episode</button>
            </div>
            <div class="modal-info">
                <h2 id="modal-title">Episode Title</h2>
                <p id="modal-synopsis">Episode Synopsis</p>
                <p id="modal-rating">IMDB Rating: <span id="modal-rating-value"></span></p>
            </div>
        </div>
    </div>

    <script>        document.addEventListener('DOMContentLoaded', () => {
            const allEpisodes = [
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_1324792.png', title: "S03E01 - The One with the Princess Leia Fantasy", synopsis: "Ross tells Rachel about his Princess Leia fantasy. Monica suffers from insomnia.", rating: '8.5/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E01.The.One.with.the.Princess.Leia.Fantasy.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_190419.png', title: "S03E02 - The One Where No One's Ready", synopsis: "Ross becomes stressed out when no one else is ready for his event.", rating: '8.8/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E02.The.One.Where.No.One's.Ready.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_156551.png', title: "S03E03 - The One with the Jam", synopsis: "Monica decides to make jam and considers insemination through a sperm bank.", rating: '8.3/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E03.The.One.with.the.Jam.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_1161930.png', title: "S03E04 - The One with the Metaphorical Tunnel", synopsis: "Chandler tries to overcome his fear of commitment. Ross panics when Ben starts playing with a Barbie doll.", rating: '8.2/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E04.The.One.with.the.Metaphorical.Tunnel.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_293378.png', title: "S03E05 - The One with Frank Jr.", synopsis: "Phoebe's half-brother visits. Joey builds an entertainment unit.", rating: '8.3/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E05.The.One.with.Frank.Jr.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_182556.png', title: "S03E06 - The One with the Flashback", synopsis: "The gang recalls events three years ago when several of them almost slept together.", rating: '8.6/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E06.The.One.with.the.Flashback.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_1321865.png', title: "S03E07 - The One with the Race Car Bed", synopsis: "Joey becomes a teaching assistant. Monica buys a new bed.", rating: '8.2/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E07.The.One.with.the.Race.Car.Bed.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_1234220.png', title: "S03E08 - The One with the Giant Poking Device", synopsis: "Joey finds out that Chandler kissed Cathy. Monica worries about a bump on her leg.", rating: '8.4/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E08.The.One.with.the.Giant.Poking.Device.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_795760.png', title: "S03E09 - The One with the Football", synopsis: "The gang plays a game of touch football on Thanksgiving.", rating: '8.8/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E09.The.One.with.the.Football.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_1297372.png', title: "S03E10 - The One Where Rachel Quits", synopsis: "Rachel quits her job. Joey's Christmas tree selling conflicts with Phoebe's principles.", rating: '8.3/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E10.The.One.Where.Rachel.Quits.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_381384.png', title: "S03E11 - The One Where Chandler Can't Remember Which Sister", synopsis: "Ross is suspicious about Rachel's date. Chandler's drunken actions lead to confusion.", rating: '8.2/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E11.The.One.Where.Chandler.Can't.Remember.Which.Sister.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_686909.png', title: "S03E12 - The One with All the Jealousy", synopsis: "Ross becomes jealous of Rachel's co-worker. Monica dates a busboy.", rating: '8.3/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E12.The.One.with.All.the.Jealousy.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_486376.png', title: "S03E13 - The One Where Monica and Richard Are Just Friends", synopsis: "Monica and Richard rekindle their relationship. Joey wants to get back with Kate.", rating: '8.3/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E13.The.One.Where.Monica.and.Richard.Are.Just.Friends.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_14392.png', title: "S03E14 - The One with Phoebe's Ex-Partner", synopsis: "Phoebe reunites with her former singing partner. Chandler dates a girl who likes to hit.", rating: '8.2/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E14.The.One.with.Phoebe's.Ex-Partner.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_634254.png', title: "S03E15 - The One Where Ross and Rachel Take a Break", synopsis: "Ross seeks solace from Chloe after a fight with Rachel. The others are trapped in a room listening.", rating: '8.4/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E15.The.One.Where.Ross.and.Rachel.Take.a.Break.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_1068939.png', title: "S03E16 - The One the Morning After", synopsis: "Ross deals with the fallout of his night with Chloe as Rachel finds out.", rating: '8.6/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E16.The.One.the.Morning.After.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_655397.png', title: "S03E17 - The One without the Ski Trip", synopsis: "Rachel organizes a ski trip, but Ross isn't invited, leading to a divide in the group.", rating: '8.3/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E17.The.One.Without.the.Ski.Trip.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_796385.png', title: "S03E18 - The One with the Hypnosis Tape", synopsis: "Monica dates a millionaire. Chandler uses a hypnosis tape to quit smoking, with unexpected results.", rating: '8.2/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E18.The.One.with.the.Hypnosis.Tape.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_557859.png', title: "S03E19 - The One with the Tiny T-Shirt", synopsis: "Rachel dates Mark, making Ross extremely jealous.", rating: '8.3/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E19.The.One.with.the.Tiny.T-Shirt.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_508534.png', title: "S03E20 - The One with the Dollhouse", synopsis: "Monica inherits a dollhouse that Phoebe loves, but isn't allowed to play with.", rating: '8.2/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E20.The.One.with.the.Dollhouse.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_1356177.png', title: "S03E21 - The One with a Chick and a Duck", synopsis: "Joey and Chandler adopt a chick and a duck.", rating: '8.5/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E21.The.One.With.the.Chick.and.the.Duck.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_310698.png', title: "S03E22 - The One with the Screamer", synopsis: "Rachel dates a guy with an anger management problem.", rating: '8.3/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E22.The.One.with.the.Screamer.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_57568.png', title: "S03E23 - The One with Ross's Thing", synopsis: "Ross finds a mysterious growth. Phoebe dates two guys at once.", rating: '8.2/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E23.The.One.With.Ross's.Thing.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_724399.png', title: "S03E24 - The One with the Ultimate Fighting Champion", synopsis: "Monica's boyfriend Pete enters an ultimate fighting competition.", rating: '8.4/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E24.The.One.with.the.Ultimate.Fighting.Champion.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
                { season: 'S03', img: 'Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/videoframe_788145.png', title: "S03E25 - The One at the Beach", synopsis: "The gang goes to the beach. Phoebe meets a woman who knows details about her family.", rating: '8.5/10', link: "Friends.Complete.Series.720p.BluRay.2CH.x265.HEVC-PSA/S03/Friends.S03E25.The.One.at.the.Beach.720p.BluRay.2CH.x265.HEVC-PSA.mkv" },
            ];
            
            let currentFilteredEpisodes = [];
            let currentEpisodeIndex = -1;
            const navbar = document.getElementById('navbar');
            const container = document.getElementById('episodes-container');
            const searchBar = document.getElementById('search-bar');
            const hoverSound = document.getElementById('hover-sound');
            const modal = document.getElementById('episode-modal');
            const modalVideo = document.getElementById('modal-video');
            const modalVideoSource = document.getElementById('modal-video-source');
            const modalCloseBtn = document.querySelector('.close');
            const nextEpisodePrompt = document.getElementById('next-episode-prompt');
            const videoOverlay = document.getElementById('video-overlay-controls');
            const centerClickZone = videoOverlay.querySelector('.click-zone.center');
            const leftClickZone = videoOverlay.querySelector('.click-zone.left');
            const rightClickZone = videoOverlay.querySelector('.click-zone.right');
            const prevEpisodeBtn = document.getElementById('prev-episode-btn');
            const nextEpisodeBtn = document.getElementById('next-episode-btn');

            function renderEpisodes() {
                const filterText = searchBar.value.toLowerCase();
                container.innerHTML = '';
                
                currentFilteredEpisodes = allEpisodes.filter(ep => {
                    return ep.title.toLowerCase().includes(filterText) || ep.synopsis.toLowerCase().includes(filterText);
                });

                if (currentFilteredEpisodes.length === 0) {
                    container.innerHTML = '<p style="padding-left: 10px;">No episodes found matching your search.</p>';
                    return;
                }
                
                currentFilteredEpisodes.forEach((ep, index) => {
                    const episodeElement = document.createElement('div');
                    episodeElement.classList.add('episode');
                    episodeElement.dataset.index = index;
                    episodeElement.innerHTML = `
                        <div class="image-container">
                            <img src="${ep.img}" alt="${ep.title}" loading="lazy">
                            <div class="play-icon">▶</div>
                        </div>
                        <div class="episode-info">
                            <div class="title">${ep.title}</div>
                            <div class="synopsis">${ep.synopsis}</div>
                            <div class="rating">Rating: ${ep.rating}</div>
                        </div>
                    `;
                    episodeElement.addEventListener('click', () => showDetails(index));
                    episodeElement.addEventListener('mouseenter', () => {
                        hoverSound.currentTime = 0;
                        hoverSound.play().catch(e => {});
                    });
                    container.appendChild(episodeElement);
                });
            }

            function showDetails(index) {
                if (index < 0 || index >= currentFilteredEpisodes.length) return;
                
                currentEpisodeIndex = index;
                const episode = currentFilteredEpisodes[index];
                document.getElementById('modal-title').textContent = episode.title;
                document.getElementById('modal-synopsis').textContent = episode.synopsis;
                document.getElementById('modal-rating-value').textContent = episode.rating;
                modalVideoSource.src = encodeURI(episode.link);
                modalVideo.load();
                modalVideo.play().catch(e => console.error("Video play failed:", e));
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                updateNavButtons();
            }

            function updateNavButtons() {
                prevEpisodeBtn.classList.toggle('disabled', currentEpisodeIndex <= 0);
                nextEpisodeBtn.classList.toggle('disabled', currentEpisodeIndex >= currentFilteredEpisodes.length - 1);
            }

            function closeModal() {
                modal.style.display = 'none';
                modalVideo.pause();
                modalVideoSource.src = "";
                document.body.style.overflow = 'auto';
                nextEpisodePrompt.style.display = 'none';
            }

            searchBar.addEventListener('input', renderEpisodes);
            modalCloseBtn.addEventListener('click', closeModal);
            window.addEventListener('keydown', e => (e.key === 'Escape' && modal.style.display === 'flex') && closeModal());
            window.addEventListener('scroll', () => navbar.classList.toggle('scrolled', window.scrollY > 50));
            centerClickZone.addEventListener('click', () => modalVideo.paused ? modalVideo.play() : modalVideo.pause());
            leftClickZone.addEventListener('click', () => modalVideo.currentTime -= 10);
            rightClickZone.addEventListener('click', () => modalVideo.currentTime += 10);
            
            prevEpisodeBtn.addEventListener('click', e => {
                e.stopPropagation();
                if (currentEpisodeIndex > 0) showDetails(currentEpisodeIndex - 1);
            });
            nextEpisodeBtn.addEventListener('click', e => {
                e.stopPropagation();
                if (currentEpisodeIndex < currentFilteredEpisodes.length - 1) showDetails(currentEpisodeIndex + 1);
            });

            modalVideo.addEventListener('timeupdate', () => {
                const timeLeft = modalVideo.duration - modalVideo.currentTime;
                nextEpisodePrompt.style.display = (timeLeft < 30 && timeLeft > 0 && currentEpisodeIndex < currentFilteredEpisodes.length - 1) ? 'block' : 'none';
            });

            modalVideo.addEventListener('ended', () => {
                if (currentEpisodeIndex < currentFilteredEpisodes.length - 1) {
                    showDetails(currentEpisodeIndex + 1);
                } else {
                    closeModal();
                }
            });

            nextEpisodePrompt.addEventListener('click', () => {
                if (currentEpisodeIndex < currentFilteredEpisodes.length - 1) showDetails(currentEpisodeIndex + 1);
            });

            document.querySelector('.btn-play').addEventListener('click', () => {
                if(currentFilteredEpisodes.length === 0) renderEpisodes();
                if (currentFilteredEpisodes.length > 0) showDetails(0);
            });

            document.querySelectorAll('.dropdown-content a, .btn-info').forEach(el => {
                el.addEventListener('mouseenter', () => {
                    hoverSound.currentTime = 0;
                    hoverSound.play().catch(e => {});
                });
            });

            renderEpisodes();
        });
    </script>
</body>
</html>